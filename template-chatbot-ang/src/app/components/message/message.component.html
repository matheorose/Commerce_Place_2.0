<div
  class="flex flex-row gap-4 px-4 w-full md:w-[500px] md:px-0 first-of-type:pt-20"
>
  <div
    class="size-[24px] flex flex-col justify-center items-center flex-shrink-0 text-zinc-400"
  >
    <app-bot-icon *ngIf="role === 'assistant'"></app-bot-icon>
    <app-user-icon *ngIf="role === 'user'"></app-user-icon>
  </div>

  <div class="flex flex-col gap-1 w-full">
    <div class="text-zinc-800 dark:text-zinc-300 flex flex-col gap-4">
      <ng-container *ngIf="text; else projected">
        <div [innerHTML]="formattedText"></div>
      </ng-container>
      <ng-template #projected>
        <ng-content></ng-content>
      </ng-template>
      <div *ngIf="places?.length" class="flex flex-col gap-1 text-sm">
        <p class="text-zinc-500 dark:text-zinc-400">Commerces trouv√©s :</p>
        <ul class="space-y-1">
          <li *ngFor="let place of places" class="flex flex-col">
            <span class="font-medium text-zinc-800 dark:text-zinc-200">
              {{ place.name || 'Commerce' }}
            </span>
            <span class="text-xs text-zinc-500">
              {{ place.lat }} , {{ place.lon }}
            </span>
          </li>
        </ul>
      </div>
      <a
        *ngIf="viewUrl"
        class="inline-flex items-center justify-center text-sm px-3 py-1.5 border border-blue-500 rounded-md text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-400"
        [href]="viewUrl"
        target="_blank"
        rel="noreferrer"
      >
        Ouvrir la carte
      </a>
    </div>
  </div>
</div>
